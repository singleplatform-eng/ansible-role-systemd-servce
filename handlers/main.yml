---

- name: "start {{service_name}}.service"
  systemd:
    name: "{{service_name}}.service"
    state: started

- block:
  - name: "stop {{service_name}}.service"
    systemd:
      name: "{{service_name}}.service"
      state: stopped

  - name: "restart {{service_name}}.service"
    systemd:
      name: "{{service_name}}.service"
      state: restarted

  - name: "reload {{service_name}}.service"
    systemd:
      name: "{{service_name}}.service"
      state: reloaded
  when: service.service_config.Type is undefined or service.service_config.Type != 'oneshot'
